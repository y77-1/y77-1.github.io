(function(){"use strict";var e={1718:function(e,t,o){var i=o(5130),n=o(6768),l=o(4232);const d={class:"container"},a={class:"card-header"},s={class:"filters"};function r(e,t,o,r,u,c){const h=(0,n.g2)("el-col"),m=(0,n.g2)("el-tag"),f=(0,n.g2)("el-row"),p=(0,n.g2)("Plus"),b=(0,n.g2)("el-icon"),g=(0,n.g2)("el-button"),v=(0,n.g2)("el-input"),k=(0,n.g2)("el-form"),y=(0,n.g2)("el-menu-item"),C=(0,n.g2)("el-menu"),T=(0,n.g2)("to-do-item"),I=(0,n.g2)("el-scrollbar"),F=(0,n.g2)("el-empty"),D=(0,n.g2)("el-card");return(0,n.uX)(),(0,n.CE)("div",d,[(0,n.bF)(f,{gutter:20,class:"main-content"},{default:(0,n.k6)((()=>[(0,n.bF)(h,{span:12},{default:(0,n.k6)((()=>[(0,n.bF)(D,{class:"app-card"},{header:(0,n.k6)((()=>[(0,n.Lk)("div",a,[(0,n.bF)(f,{justify:"space-between",align:"middle"},{default:(0,n.k6)((()=>[(0,n.bF)(h,{span:12},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.Lk)("h1",null,"我的任务清单",-1)]))),_:1}),(0,n.bF)(h,{span:12,class:"header-right"},{default:(0,n.k6)((()=>[(0,n.bF)(m,{type:"success"},{default:(0,n.k6)((()=>[(0,n.eW)("已完成: "+(0,l.v_)(c.completedCount),1)])),_:1}),(0,n.bF)(m,{type:"info"},{default:(0,n.k6)((()=>[(0,n.eW)("总计: "+(0,l.v_)(u.ToDoItems.length),1)])),_:1})])),_:1})])),_:1})])])),default:(0,n.k6)((()=>[(0,n.bF)(k,{onSubmit:(0,i.D$)(c.addTodo,["prevent"]),class:"todo-form"},{default:(0,n.k6)((()=>[(0,n.bF)(v,{modelValue:u.label,"onUpdate:modelValue":t[0]||(t[0]=e=>u.label=e),modelModifiers:{trim:!0},placeholder:"添加新任务...","prefix-icon":u.Edit,onKeyup:(0,i.jR)(c.addTodo,["enter"])},{append:(0,n.k6)((()=>[(0,n.bF)(g,{type:"primary",onClick:c.addTodo},{default:(0,n.k6)((()=>[(0,n.bF)(b,null,{default:(0,n.k6)((()=>[(0,n.bF)(p)])),_:1})])),_:1},8,["onClick"])])),_:1},8,["modelValue","prefix-icon","onKeyup"])])),_:1},8,["onSubmit"]),(0,n.Lk)("div",s,[(0,n.bF)(C,{mode:"horizontal","default-active":u.currentFilter,onSelect:c.handleFilterChange},{default:(0,n.k6)((()=>[(0,n.bF)(y,{index:"all"},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("全部任务")]))),_:1}),(0,n.bF)(y,{index:"active"},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("进行中")]))),_:1}),(0,n.bF)(y,{index:"completed"},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("已完成")]))),_:1})])),_:1},8,["default-active","onSelect"])]),(0,n.bF)(I,{height:"500px",class:"todo-scrollbar"},{default:(0,n.k6)((()=>[(0,n.bF)(i.F,{name:"todo-list",tag:"ul",class:"todo-list"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(c.filteredTodoItems,((e,t)=>((0,n.uX)(),(0,n.CE)("li",{key:e.id},[(0,n.bF)(T,{label:e.label,done:e.done,id:e.id,onCheckboxChanged:e=>c.updateDoneStatus(t),onItemDeleted:e=>c.deleteToDo(t),onItemEdited:e=>c.editToDo(t,e)},null,8,["label","done","id","onCheckboxChanged","onItemDeleted","onItemEdited"])])))),128))])),_:1})])),_:1}),0===c.filteredTodoItems.length?((0,n.uX)(),(0,n.Wv)(F,{key:0,description:"暂无任务"})):(0,n.Q3)("",!0)])),_:1})])),_:1}),(0,n.bF)(h,{span:12},{default:(0,n.k6)((()=>[(0,n.bF)(D,{class:"app-card chart-card"},{header:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.Lk)("div",{class:"card-header"},[(0,n.Lk)("h1",null,"任务统计")],-1)]))),default:(0,n.k6)((()=>[t[6]||(t[6]=(0,n.Lk)("div",{class:"chart-container"},[(0,n.Lk)("div",{id:"todoChart",style:{width:"100%",height:"300px"}}),(0,n.Lk)("div",{id:"progressChart",style:{width:"100%",height:"300px"}})],-1))])),_:1})])),_:1})])),_:1})])}o(4114),o(8992),o(4520);const u={key:0,class:"todo-content"},c={class:"todo-main"},h={class:"todo-actions"};function m(e,t,o,i,d,a){const s=(0,n.g2)("el-checkbox"),r=(0,n.g2)("el-button"),m=(0,n.g2)("el-button-group"),f=(0,n.g2)("to-do-item-edit-form"),p=(0,n.g2)("el-card");return(0,n.uX)(),(0,n.Wv)(p,{shadow:"hover",class:(0,l.C4)(["todo-item",{"is-done":a.isDone}])},{default:(0,n.k6)((()=>[d.isEditing?((0,n.uX)(),(0,n.Wv)(f,{key:1,id:o.id,label:o.label,onItemEdited:a.itemEdited,onEditCancelled:a.editCancelled,ref:"editForm"},null,8,["id","label","onItemEdited","onEditCancelled"])):((0,n.uX)(),(0,n.CE)("div",u,[(0,n.Lk)("div",c,[(0,n.bF)(s,{"model-value":a.isDone,onChange:t[0]||(t[0]=t=>e.$emit("checkbox-changed"))},{default:(0,n.k6)((()=>[(0,n.Lk)("span",{class:(0,l.C4)({done:a.isDone})},(0,l.v_)(o.label),3)])),_:1},8,["model-value"])]),(0,n.Lk)("div",h,[(0,n.bF)(m,null,{default:(0,n.k6)((()=>[(0,n.bF)(r,{type:"primary",icon:d.Edit,circle:"",size:"small",onClick:a.toggleToItemEditForm},null,8,["icon","onClick"]),(0,n.bF)(r,{type:"danger",icon:d.Delete,circle:"",size:"small",onClick:t[1]||(t[1]=t=>e.$emit("item-deleted"))},null,8,["icon"])])),_:1})])]))])),_:1},8,["class"])}function f(e,t,o,l,d,a){const s=(0,n.g2)("el-input"),r=(0,n.g2)("el-form-item"),u=(0,n.g2)("el-button"),c=(0,n.g2)("el-button-group"),h=(0,n.g2)("el-form");return(0,n.uX)(),(0,n.Wv)(h,{onSubmit:(0,i.D$)(a.onSubmit,["prevent"]),class:"edit-form"},{default:(0,n.k6)((()=>[(0,n.bF)(r,null,{default:(0,n.k6)((()=>[(0,n.bF)(s,{modelValue:d.newLabel,"onUpdate:modelValue":t[0]||(t[0]=e=>d.newLabel=e),modelModifiers:{trim:!0},placeholder:`编辑: ${o.label}`,ref:"input",onKeyup:[(0,i.jR)(a.onSubmit,["enter"]),(0,i.jR)(a.onCancel,["esc"])]},null,8,["modelValue","placeholder","onKeyup"])])),_:1}),(0,n.bF)(r,null,{default:(0,n.k6)((()=>[(0,n.bF)(c,null,{default:(0,n.k6)((()=>[(0,n.bF)(u,{onClick:a.onCancel,size:"small"},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)("取消")]))),_:1},8,["onClick"]),(0,n.bF)(u,{type:"primary","native-type":"submit",size:"small"},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("保存")]))),_:1})])),_:1})])),_:1})])),_:1},8,["onSubmit"])}var p={props:{label:{type:String,required:!0},id:{type:String,required:!0}},data(){return{newLabel:this.label}},mounted(){this.$nextTick((()=>{this.$refs.input&&this.$refs.input.focus()}))},methods:{onSubmit(){this.newLabel&&this.newLabel!==this.label?this.$emit("item-edited",{label:this.newLabel}):this.$emit("edit-cancelled")},onCancel(){this.$emit("edit-cancelled")}}},b=o(1241);const g=(0,b.A)(p,[["render",f],["__scopeId","data-v-84a6c94e"]]);var v=g,k=o(7477),y={name:"ToDoItem",components:{ToDoItemEditForm:v},props:{label:{required:!0,type:String},done:{default:!1,type:Boolean},id:{required:!0,type:String}},data(){return{isEditing:!1,editText:this.label,Edit:k.Edit,Delete:k.Delete}},computed:{isDone(){return this.done}},methods:{toggleToItemEditForm(){this.isEditing=!0},itemEdited(e){this.$emit("item-edited",e),this.isEditing=!1},editCancelled(){this.isEditing=!1},formatDate(e){return new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"-")}}};const C=(0,b.A)(y,[["render",m],["__scopeId","data-v-49a2920e"]]);var T=C,I=o(3165),F=o.n(I),D=o(9671),_={name:"app",components:{ToDoItem:T},data(){return{label:"",currentFilter:"all",ToDoItems:JSON.parse(localStorage.getItem("todos"))||[],Edit:k.Edit,Plus:k.Plus,todoChart:null,progressChart:null}},mounted(){this.initCharts(),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},computed:{completedCount(){return this.ToDoItems.filter((e=>e.done)).length},filteredTodoItems(){switch(this.currentFilter){case"active":return this.ToDoItems.filter((e=>!e.done));case"completed":return this.ToDoItems.filter((e=>e.done));default:return this.ToDoItems}}},methods:{addTodo(){""!==this.label&&(this.ToDoItems.push({id:F()("todo-"),label:this.label,done:!1}),this.label="",this.saveTodos())},updateDoneStatus(e){const t=this.filteredTodoItems[e],o=this.ToDoItems.findIndex((e=>e.id===t.id));-1!==o&&(this.ToDoItems[o].done=!this.ToDoItems[o].done,this.saveTodos())},deleteToDo(e){const t=this.filteredTodoItems[e],o=this.ToDoItems.findIndex((e=>e.id===t.id));-1!==o&&(this.ToDoItems.splice(o,1),this.saveTodos())},editToDo(e,t){const o=this.filteredTodoItems[e],i=this.ToDoItems.findIndex((e=>e.id===o.id));-1!==i&&(this.ToDoItems[i]={...this.ToDoItems[i],label:t.label},this.saveTodos())},saveTodos(){localStorage.setItem("todos",JSON.stringify(this.ToDoItems))},handleFilterChange(e){this.currentFilter=e},initCharts(){this.todoChart=D.Ts(document.getElementById("todoChart")),this.progressChart=D.Ts(document.getElementById("progressChart")),this.updateCharts()},updateCharts(){const e={title:{text:"任务完成情况",left:"center"},tooltip:{trigger:"item"},legend:{orient:"horizontal",bottom:"bottom"},series:[{name:"任务状态",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"20",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:this.completedCount,name:"已完成",itemStyle:{color:"#52c41a"}},{value:this.ToDoItems.length-this.completedCount,name:"未完成",itemStyle:{color:"#1890ff"}}]}]},t={title:{text:"完成进度",left:"center",top:20,textStyle:{fontSize:16}},tooltip:{formatter:"{b}: {c}%"},series:[{type:"gauge",radius:"75%",center:["50%","60%"],progress:{show:!0,width:15},axisLine:{lineStyle:{width:15}},axisTick:{show:!1},splitLine:{distance:-15,length:12,lineStyle:{width:2,color:"#999"}},pointer:{show:!1},axisLabel:{distance:25,color:"#999",fontSize:12},anchor:{show:!1},title:{show:!1},detail:{valueAnimation:!0,fontSize:30,offsetCenter:[0,"70%"],formatter:"{value}%",color:"inherit"},data:[{value:this.ToDoItems.length?(this.completedCount/this.ToDoItems.length*100).toFixed(1):0,name:"完成率"}]}]};this.todoChart.setOption(e),this.progressChart.setOption(t)},handleResize(){this.todoChart?.resize(),this.progressChart?.resize()}},watch:{ToDoItems:{deep:!0,handler(){this.saveTodos(),this.updateCharts()}}}};const w=(0,b.A)(_,[["render",r]]);var S=w,E=o(3109);o(4188);const x=(0,i.Ef)(S);for(const[L,O]of Object.entries(k))x.component(L,O);x.use(E.A),x.mount("#app")}},t={};function o(i){var n=t[i];if(void 0!==n)return n.exports;var l=t[i]={exports:{}};return e[i].call(l.exports,l,l.exports,o),l.exports}o.m=e,function(){var e=[];o.O=function(t,i,n,l){if(!i){var d=1/0;for(u=0;u<e.length;u++){i=e[u][0],n=e[u][1],l=e[u][2];for(var a=!0,s=0;s<i.length;s++)(!1&l||d>=l)&&Object.keys(o.O).every((function(e){return o.O[e](i[s])}))?i.splice(s--,1):(a=!1,l<d&&(d=l));if(a){e.splice(u--,1);var r=n();void 0!==r&&(t=r)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[i,n,l]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,l,d=i[0],a=i[1],s=i[2],r=0;if(d.some((function(t){return 0!==e[t]}))){for(n in a)o.o(a,n)&&(o.m[n]=a[n]);if(s)var u=s(o)}for(t&&t(i);r<d.length;r++)l=d[r],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(u)},i=self["webpackChunktodo_app"]=self["webpackChunktodo_app"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[504],(function(){return o(1718)}));i=o.O(i)})();
//# sourceMappingURL=app.03dad813.js.map